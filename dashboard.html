<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GRINDMIND - Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      /* GRINDMIND Dashboard CSS - Güncellenmiş Mobil ve Desktop Uyumlu */
      /* ============================================ */

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-bg: #f8fafc;
        --secondary-bg: #f1f5f9;
        --card-bg: #ffffff;
        --accent-color: #6366f1;
        --accent-hover: #5855eb;
        --accent-light: #eef2ff;
        --text-primary: #0f172a;
        --text-secondary: #475569;
        --text-muted: #94a3b8;
        --border-color: #e2e8f0;
        --border-hover: #cbd5e1;
        --success-color: #10b981;
        --warning-color: #f59e0b;
        --danger-color: #ef4444;
        --info-color: #3b82f6;
        --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
        --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, sans-serif;
        background: var(--primary-bg);
        color: var(--text-primary);
        line-height: 1.6;
        min-height: 100vh;
      }

      /* Header - Güncellenmiş */
      .header {
        background: var(--card-bg);
        border-bottom: 1px solid var(--border-color);
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: var(--shadow-sm);
      }

      .nav {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 1.5rem;
        position: relative;
      }

      .logo {
        font-size: 1.75rem;
        font-weight: 800;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        cursor: pointer;
        transition: transform 0.3s ease;
      }

      .logo:hover {
        transform: scale(1.05);
      }

      /* Hamburger Menu - Mobil için */
      .hamburger {
        display: none;
        flex-direction: column;
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.375rem;
        transition: all 0.3s ease;
      }

      .hamburger:hover {
        background: var(--secondary-bg);
      }

      .hamburger span {
        width: 25px;
        height: 3px;
        background: var(--text-primary);
        border-radius: 2px;
        transition: all 0.3s ease;
        transform-origin: center;
      }

      .hamburger span:nth-child(1) {
        margin-bottom: 4px;
      }

      .hamburger span:nth-child(2) {
        margin-bottom: 4px;
      }

      .hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }

      .hamburger.active span:nth-child(2) {
        opacity: 0;
      }

      .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }

      /* Navigation Menu */
      .nav-menu {
        display: flex;
        align-items: center;
        gap: 2rem;
      }

      .nav-item {
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
        font-size: 0.95rem;
      }

      .nav-item:hover {
        color: var(--accent-color);
        background: var(--accent-light);
        transform: translateY(-1px);
      }

      .nav-item.active {
        color: var(--accent-color);
        background: var(--accent-light);
        font-weight: 600;
      }

      /* Mobile Navigation Overlay */
      .nav-mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 998;
        display: none;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .nav-mobile-overlay.show {
        display: block;
        opacity: 1;
      }

      .nav-mobile {
        position: fixed;
        top: 0;
        right: -100%;
        width: 280px;
        height: 100%;
        background: var(--card-bg);
        z-index: 999;
        transition: right 0.3s ease;
        display: flex;
        flex-direction: column;
        box-shadow: var(--shadow-xl);
      }

      .nav-mobile.show {
        right: 0;
      }

      .nav-mobile-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        border-bottom: 1px solid var(--border-color);
      }

      .nav-mobile-close {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--text-secondary);
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .nav-mobile-close:hover {
        background: var(--secondary-bg);
        color: var(--text-primary);
      }

      .nav-mobile-menu {
        flex: 1;
        padding: 1rem 0;
      }

      .nav-mobile-item {
        display: block;
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        padding: 1rem 1.5rem;
        border-bottom: 1px solid var(--border-color);
        transition: all 0.3s ease;
        font-size: 1rem;
      }

      .nav-mobile-item:hover {
        background: var(--secondary-bg);
        color: var(--accent-color);
      }

      .nav-mobile-item.active {
        background: var(--accent-light);
        color: var(--accent-color);
        font-weight: 600;
      }

      .nav-mobile-item:last-child {
        border-bottom: none;
      }

      /* User Section */
      .user-section {
        display: flex;
        align-items: center;
        gap: 1rem;
        position: relative;
      }

      .notification-btn {
        position: relative;
        background: none;
        border: none;
        font-size: 1.25rem;
        color: var(--text-secondary);
        cursor: pointer;
        padding: 0.5rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
      }

      .notification-btn:hover {
        background: var(--secondary-bg);
        color: var(--accent-color);
        transform: scale(1.1);
      }

      .notification-badge {
        position: absolute;
        top: 0.25rem;
        right: 0.25rem;
        background: var(--danger-color);
        color: white;
        font-size: 0.75rem;
        font-weight: 600;
        padding: 0.125rem 0.375rem;
        border-radius: 0.75rem;
        min-width: 1.25rem;
        text-align: center;
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: var(--shadow-md);
      }

      .user-avatar:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-lg);
      }

      /* Profile Dropdown - Güncellenmiş */
      .profile-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 0.5rem;
        box-shadow: var(--shadow-lg);
        min-width: 180px;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
      }

      .profile-dropdown.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .dropdown-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.3s ease;
        cursor: pointer;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
      }

      .dropdown-item:hover {
        background: var(--secondary-bg);
        color: var(--text-primary);
      }

      .dropdown-icon {
        font-size: 1rem;
      }

      /* Main Layout */
      .main-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1.5rem;
        display: grid;
        grid-template-columns: 320px 1fr 300px;
        gap: 2rem;
        min-height: calc(100vh - 80px);
      }

      /* Sidebar */
      .left-sidebar,
      .right-sidebar {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .sidebar-card,
      .widget-card {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 1rem;
        padding: 1.5rem;
        box-shadow: var(--shadow-sm);
        transition: all 0.3s ease;
      }

      .sidebar-card:hover,
      .widget-card:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
        border-color: var(--border-hover);
      }

      /* Profile Card */
      .profile-card {
        text-align: center;
      }

      .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        font-weight: 700;
        margin: 0 auto 1rem;
        box-shadow: var(--shadow-md);
        transition: transform 0.3s ease;
      }

      .profile-avatar:hover {
        transform: scale(1.05);
      }

      .profile-name {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: var(--text-primary);
      }

      .profile-email {
        color: var(--text-secondary);
        font-size: 0.875rem;
        margin-bottom: 1rem;
      }

      .profile-stats {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        text-align: center;
      }

      .stat-item {
        padding: 0.75rem;
        background: var(--secondary-bg);
        border-radius: 0.5rem;
        transition: all 0.3s ease;
      }

      .stat-item:hover {
        background: var(--accent-light);
        transform: translateY(-2px);
      }

      .stat-number {
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--accent-color);
        display: block;
        margin-bottom: 0.25rem;
      }

      .stat-label {
        font-size: 0.75rem;
        color: var(--text-muted);
        text-transform: uppercase;
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      /* Mini Activities */
      .mini-activities {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }

      .mini-activity {
        background: var(--secondary-bg);
        padding: 1rem;
        border-radius: 0.75rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid var(--border-color);
        position: relative;
      }

      .mini-activity::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--accent-color);
        border-radius: 0.75rem 0.75rem 0 0;
        transform: scaleX(0);
        transition: transform 0.3s ease;
      }

      .mini-activity:hover::before {
        transform: scaleX(1);
      }

      .mini-activity:hover {
        background: var(--accent-light);
        border-color: var(--accent-color);
        transform: translateY(-3px);
        box-shadow: var(--shadow-md);
      }

      .mini-activity-icon {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
        display: block;
        transition: transform 0.3s ease;
      }

      .mini-activity:hover .mini-activity-icon {
        transform: scale(1.2);
      }

      .mini-activity-name {
        font-size: 0.75rem;
        font-weight: 600;
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .mini-activity-stat {
        font-size: 1rem;
        font-weight: 800;
        color: var(--accent-color);
      }

      /* Live Activity */
      .live-activity {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 1rem;
        padding: 1rem;
      }

      .activity-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        background: var(--secondary-bg);
        border-radius: 0.5rem;
        margin-bottom: 0.5rem;
        font-size: 0.875rem;
        transition: all 0.3s ease;
      }

      .activity-item:last-child {
        margin-bottom: 0;
      }

      .activity-item:hover {
        background: var(--accent-light);
        transform: translateX(4px);
      }

      .activity-icon {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 0.875rem;
        flex-shrink: 0;
      }

      .activity-text {
        flex: 1;
        color: var(--text-secondary);
        font-weight: 500;
      }

      .activity-time {
        color: var(--text-muted);
        font-size: 0.75rem;
        font-weight: 600;
      }

      /* Main Feed */
      .main-feed {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      /* Welcome Card */
      .welcome-card {
        background: var(--gradient-primary);
        color: white;
        border-radius: 1rem;
        padding: 2rem;
        text-align: center;
        position: relative;
        overflow: hidden;
        box-shadow: var(--shadow-lg);
      }

      .welcome-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        animation: shimmer 3s infinite;
      }

      .welcome-title {
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 0.5rem;
        position: relative;
        z-index: 1;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .welcome-subtitle {
        font-size: 1.125rem;
        opacity: 0.9;
        position: relative;
        z-index: 1;
        font-weight: 400;
      }

      /* Create Post */
      .create-post {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 1rem;
        padding: 1.5rem;
        transition: all 0.3s ease;
      }

      .create-post:focus-within {
        border-color: var(--accent-color);
        box-shadow: 0 0 0 3px var(--accent-light);
      }

      .post-input {
        width: 100%;
        border: none;
        background: var(--secondary-bg);
        padding: 1rem;
        border-radius: 0.75rem;
        resize: none;
        font-family: inherit;
        margin-bottom: 1rem;
        font-size: 0.95rem;
        min-height: 80px;
        transition: all 0.3s ease;
        border: 1px solid var(--border-color);
      }

      .post-input:focus {
        outline: none;
        border-color: var(--accent-color);
        background: var(--card-bg);
      }

      .post-input::placeholder {
        color: var(--text-muted);
      }

      .post-actions {
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .post-submit {
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
      }

      .post-submit:hover {
        background: var(--accent-hover);
        transform: translateY(-1px);
        box-shadow: var(--shadow-md);
      }

      .post-submit:disabled {
        background: var(--text-muted);
        cursor: not-allowed;
        transform: none;
      }

      /* Main Event Cards */
      .main-event-card {
        background: var(--card-bg);
        border: 2px solid var(--border-color);
        border-radius: 1.5rem;
        padding: 2rem;
        box-shadow: var(--shadow-lg);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .main-event-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: var(--gradient-primary);
        border-radius: 1.5rem 1.5rem 0 0;
      }

      .main-event-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-xl);
        border-color: var(--accent-color);
      }

      .main-event-card h2 {
        color: var(--text-primary);
        font-size: 1.375rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        text-align: center;
      }

      /* Challenge System */
      .challenge-system {
        background: linear-gradient(135deg, #f59e0b10, #d9770620);
      }

      .challenge-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .challenge-info {
        text-align: center;
      }

      .challenge-info h3 {
        color: var(--text-primary);
        margin-bottom: 1rem;
        font-size: 1.125rem;
        font-weight: 600;
      }

      .challenge-description {
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
      }

      .challenge-reward {
        color: var(--warning-color);
        font-weight: 600;
      }

      .challenge-join-section {
        text-align: center;
      }

      .challenge-join-btn {
        background: var(--warning-color);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 0.75rem;
        font-weight: 700;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: var(--shadow-md);
      }

      .challenge-join-btn:hover {
        background: #d97706;
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .challenge-active {
        text-align: center;
      }

      .progress-ring {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: conic-gradient(
          var(--accent-color) 0deg 0deg,
          var(--secondary-bg) 0deg
        );
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        position: relative;
        transition: all 0.5s ease;
      }

      .progress-ring::before {
        content: "";
        position: absolute;
        width: 80px;
        height: 80px;
        background: var(--card-bg);
        border-radius: 50%;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .progress-ring span {
        font-size: 1.25rem;
        font-weight: 800;
        color: var(--accent-color);
        z-index: 1;
      }

      .leaderboard-mini {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        max-width: 400px;
        margin: 0 auto;
      }

      .leader-item {
        background: var(--secondary-bg);
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 500;
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }

      .leader-item:hover {
        background: var(--accent-light);
        border-color: var(--accent-color);
      }

      /* AI Coach */
      .ai-coach {
        background: linear-gradient(135deg, #8b5cf610, #7c3aed20);
      }

      .coach-message {
        display: flex;
        gap: 1rem;
        margin-bottom: 1.5rem;
        align-items: flex-start;
      }

      .coach-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--gradient-primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        flex-shrink: 0;
        box-shadow: var(--shadow-md);
      }

      .message-bubble {
        background: var(--secondary-bg);
        padding: 1.25rem;
        border-radius: 1rem;
        border-top-left-radius: 0.25rem;
        color: var(--text-primary);
        line-height: 1.6;
        font-size: 0.95rem;
        border: 1px solid var(--border-color);
        flex: 1;
        max-height: 400px;
        overflow-y: auto;
        white-space: pre-line;
      }

      .coach-actions {
        text-align: center;
      }

      .suggestion-btn {
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 0.875rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.875rem;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .suggestion-btn:hover {
        background: var(--accent-hover);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
      }

      .ai-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.75rem;
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      .loading-spinner {
        width: 20px;
        height: 20px;
        border: 2px solid var(--border-color);
        border-top: 2px solid var(--accent-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      /* Social Feed */
      .social-feed {
        background: linear-gradient(135deg, #667eea10, #764ba220);
      }

      .feed-posts {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        max-height: 500px;
        overflow-y: auto;
        padding-right: 0.5rem;
      }

      .feed-posts::-webkit-scrollbar {
        width: 6px;
      }

      .feed-posts::-webkit-scrollbar-track {
        background: var(--secondary-bg);
        border-radius: 3px;
      }

      .feed-posts::-webkit-scrollbar-thumb {
        background: var(--accent-color);
        border-radius: 3px;
      }

      .post-item {
        background: var(--secondary-bg);
        border-radius: 1rem;
        padding: 1.5rem;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .post-item:hover {
        background: var(--accent-light);
        transform: translateX(4px);
        border-color: var(--accent-color);
      }

      .user-info {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 1rem;
      }

      .user-avatar-small {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--gradient-primary);
        flex-shrink: 0;
      }

      .user-info span {
        color: var(--text-secondary);
        font-size: 0.875rem;
      }

      .post-content {
        color: var(--text-primary);
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 1rem;
      }

      .post-actions {
        display: flex;
        gap: 1rem;
      }

      .post-action-btn {
        background: none;
        border: none;
        color: var(--text-secondary);
        cursor: pointer;
        font-size: 0.875rem;
        padding: 0.5rem;
        border-radius: 0.375rem;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.25rem;
      }

      .post-action-btn:hover {
        background: var(--card-bg);
        transform: scale(1.05);
      }

      .post-action-btn.active {
        color: var(--danger-color);
      }

      .post-comments {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid var(--border-color);
        animation: fadeInUp 0.3s ease-out;
      }

      .comments-container {
        margin-bottom: 1rem;
      }

      .comment {
        background: var(--card-bg);
        padding: 0.75rem;
        border-radius: 0.5rem;
        margin-bottom: 0.5rem;
        font-size: 0.875rem;
        border: 1px solid var(--border-color);
        animation: fadeInUp 0.3s ease-out;
      }

      .comment:last-child {
        margin-bottom: 0;
      }

      .add-comment {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }

      .comment-input {
        flex: 1;
        border: 1px solid var(--border-color);
        border-radius: 0.5rem;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        background: var(--secondary-bg);
        transition: all 0.3s ease;
      }

      .comment-input:focus {
        outline: none;
        border-color: var(--accent-color);
        background: var(--card-bg);
        box-shadow: 0 0 0 2px var(--accent-light);
      }

      .comment-submit-btn {
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.875rem;
      }

      .comment-submit-btn:hover {
        background: var(--accent-hover);
        transform: translateY(-1px);
      }

      /* Widget Styles */
      .widget-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .widget-title {
        font-size: 1.125rem;
        font-weight: 700;
        color: var(--text-primary);
      }

      .widget-action {
        color: var(--accent-color);
        text-decoration: none;
        font-size: 0.875rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .widget-action:hover {
        color: var(--accent-hover);
        text-decoration: underline;
      }

      /* Achievement Items */
      .achievement-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem;
        background: var(--secondary-bg);
        border-radius: 0.5rem;
        margin-bottom: 0.75rem;
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }

      .achievement-item:last-child {
        margin-bottom: 0;
      }

      .achievement-item:hover {
        background: var(--accent-light);
        border-color: var(--accent-color);
        transform: translateX(4px);
      }

      .achievement-icon {
        font-size: 1.5rem;
      }

      .achievement-info {
        flex: 1;
      }

      .achievement-name {
        font-weight: 600;
        font-size: 0.875rem;
        margin-bottom: 0.125rem;
        color: var(--text-primary);
      }

      .achievement-points {
        color: var(--accent-color);
        font-size: 0.75rem;
        font-weight: 600;
        background: var(--accent-light);
        padding: 0.125rem 0.375rem;
        border-radius: 0.25rem;
      }

      /* Streak Items */
      .streak-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem;
        background: var(--secondary-bg);
        border-radius: 0.5rem;
        margin-bottom: 0.75rem;
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }

      .streak-item:last-child {
        margin-bottom: 0;
      }

      .streak-item:hover {
        background: var(--accent-light);
        border-color: var(--accent-color);
        transform: translateY(-2px);
        box-shadow: var(--shadow-sm);
      }

      .streak-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 500;
        color: var(--text-secondary);
      }

      .streak-value {
        font-weight: 700;
        color: var(--accent-color);
      }

      /* Leaderboard */
      .leaderboard {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .leaderboard-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem;
        border-radius: 0.5rem;
        transition: all 0.3s ease;
      }

      .leaderboard-item.gold {
        background: linear-gradient(135deg, #ffd70020, #ff851b20);
        border: 2px solid #ffd700;
      }

      .leaderboard-item.silver {
        background: linear-gradient(135deg, #c0c0c020, #80808020);
      }

      .leaderboard-item.bronze {
        background: linear-gradient(135deg, #cd7f3220, #8b451320);
      }

      .leaderboard-item.current-user {
        border: 2px solid var(--accent-color);
        background: var(--accent-light);
      }

      .leaderboard-user {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .leaderboard-rank {
        font-size: 0.875rem;
      }

      .leaderboard-name {
        font-weight: 600;
        font-size: 0.75rem;
      }

      .leaderboard-score {
        color: var(--accent-color);
        font-weight: 700;
        font-size: 0.75rem;
      }

      /* Community Stats */
      .community-stats {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .stat-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.875rem;
      }

      .stat-label {
        color: var(--text-secondary);
      }

      .stat-value {
        font-weight: 700;
      }

      .stat-value.success {
        color: var(--success-color);
      }
      .stat-value.warning {
        color: var(--warning-color);
      }
      .stat-value.info {
        color: var(--info-color);
      }
      .stat-value.accent {
        color: var(--accent-color);
      }

      /* Motivational Quote */
      .motivational-quote {
        background: var(--gradient-primary) !important;
        color: white !important;
        border: none !important;
      }

      .quote-content {
        text-align: center;
      }

      .quote-icon {
        font-size: 2rem;
        margin-bottom: 0.5rem;
        display: block;
      }

      .quote-text {
        font-style: italic;
        margin-bottom: 0.5rem;
        font-size: 0.875rem;
        opacity: 0.9;
        line-height: 1.5;
      }

      .quote-author {
        font-size: 0.75rem;
        opacity: 0.8;
        font-weight: 500;
      }

      /* Floating Action Button */
      .floating-action-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: var(--gradient-primary);
        color: white;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: var(--shadow-lg);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .floating-action-btn:hover {
        transform: scale(1.1);
        box-shadow: var(--shadow-xl);
      }

      /* Notification Toast */
      .notification-toast {
        position: fixed;
        top: 100px;
        right: 20px;
        background: var(--gradient-primary);
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 0.75rem;
        box-shadow: var(--shadow-lg);
        transform: translateX(120%);
        opacity: 0;
        transition: all 0.5s ease;
        z-index: 10000;
        min-width: 300px;
        max-width: 400px;
        display: none;
      }

      .notification-toast.show {
        transform: translateX(0);
        opacity: 1;
        display: block;
      }

      .notification-content {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
      }

      .notification-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .notification-text {
        flex: 1;
      }

      .notification-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
        font-size: 0.9rem;
      }

      .notification-message {
        font-size: 0.825rem;
        opacity: 0.9;
        line-height: 1.4;
      }

      .notification-close {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1.25rem;
        padding: 0;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: all 0.3s ease;
        flex-shrink: 0;
      }

      .notification-close:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* Animations */
      @keyframes shimmer {
        0% {
          transform: translateX(-100%) translateY(-100%) rotate(45deg);
        }
        100% {
          transform: translateX(100%) translateY(100%) rotate(45deg);
        }
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      @keyframes successPulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .fade-in-up {
        animation: fadeInUp 0.6s ease-out;
      }

      .pulse {
        animation: pulse 2s ease-in-out infinite;
      }

      .success-animation {
        animation: successPulse 0.6s ease-out;
      }

      /* Scrollbar */
      ::-webkit-scrollbar {
        width: 6px;
      }

      ::-webkit-scrollbar-track {
        background: var(--secondary-bg);
      }

      ::-webkit-scrollbar-thumb {
        background: var(--accent-color);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: var(--accent-hover);
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .main-container {
          grid-template-columns: 280px 1fr 280px;
          gap: 1.5rem;
        }

        .main-event-card {
          padding: 1.5rem;
        }
      }

      @media (max-width: 1024px) {
        .user-section {
          display: none;
        }
        .main-container {
          grid-template-columns: 1fr;
          gap: 1.5rem;
          padding: 1.5rem 1rem;
        }

        .left-sidebar,
        .right-sidebar {
          display: none;
        }

        /* Mobil Navigation */
        .nav-menu {
          display: none;
        }

        .hamburger {
          display: flex;
        }

        .mini-activities {
          grid-template-columns: repeat(3, 1fr);
        }

        .coach-message {
          flex-direction: column;
          text-align: center;
        }

        .challenge-container {
          align-items: center;
        }
      }

      @media (max-width: 768px) {
        .nav {
          padding: 1rem;
        }

        .main-container {
          padding: 1rem;
          gap: 1rem;
        }

        .welcome-title {
          font-size: 1.5rem;
        }

        .welcome-subtitle {
          font-size: 1rem;
        }

        .main-event-card {
          padding: 1.25rem;
        }

        .main-event-card h2 {
          font-size: 1.25rem;
        }

        .mini-activities {
          grid-template-columns: repeat(2, 1fr);
        }

        .post-actions {
          flex-direction: column;
          gap: 1rem;
        }

        .notification-toast {
          right: 10px;
          left: 10px;
          min-width: auto;
        }

        .floating-action-btn {
          bottom: 1rem;
          right: 1rem;
          width: 50px;
          height: 50px;
          font-size: 1.25rem;
        }
      }

      @media (max-width: 480px) {
        .nav {
          padding: 0.75rem;
        }

        .logo {
          font-size: 1.5rem;
        }

        .user-avatar {
          width: 35px;
          height: 35px;
          font-size: 0.9rem;
        }

        .main-container {
          padding: 0.75rem;
        }

        .welcome-card {
          padding: 1.5rem;
        }

        .main-event-card {
          padding: 1rem;
        }

        .main-event-card h2 {
          font-size: 1.125rem;
        }

        .progress-ring {
          width: 100px;
          height: 100px;
        }

        .progress-ring::before {
          width: 65px;
          height: 65px;
        }

        .progress-ring span {
          font-size: 1rem;
        }

        .coach-avatar {
          width: 40px;
          height: 40px;
          font-size: 1.25rem;
        }

        .post-input {
          min-height: 60px;
        }

        .nav-mobile {
          width: 100%;
          right: -100%;
        }
      }

      /* Focus States */
      *:focus {
        outline: 2px solid var(--accent-color);
        outline-offset: 2px;
      }

      /* Smooth Scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Loading States */
      .loading {
        opacity: 0.6;
        pointer-events: none;
        position: relative;
      }

      .loading::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        margin: -10px 0 0 -10px;
        border: 2px solid var(--accent-color);
        border-top: 2px solid transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <nav class="nav">
        <div class="logo">GRINDMIND</div>

        <!-- Desktop Navigation Menu -->
        <div class="nav-menu">
          <a href="#" class="nav-item active">Ana Sayfa</a>
          <a href="activities.html" class="nav-item">Aktiviteler</a>
          <a href="statistics.html" class="nav-item">İstatistikler</a>
          <a href="achievements.html" class="nav-item">Başarılar</a>
        </div>

        <!-- Hamburger Menu Button (Mobil) -->
        <div class="hamburger" id="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>

        <div class="user-section">
          <button class="notification-btn" id="notificationBtn">
            🔔
            <span class="notification-badge" id="notificationBadge">3</span>
          </button>
          <div class="user-avatar" id="userAvatar">T</div>
          <!-- Profile Dropdown -->
          <div class="profile-dropdown" id="profileDropdown">
            <button class="dropdown-item" id="settingsBtn">
              <span class="dropdown-icon">⚙️</span>
              <span>Ayarlar</span>
            </button>
            <button class="dropdown-item" id="logoutBtn">
              <span class="dropdown-icon">🚪</span>
              <span>Çıkış Yap</span>
            </button>
          </div>
        </div>
      </nav>
    </header>

    <!-- Mobile Navigation Overlay -->
    <div class="nav-mobile-overlay" id="navMobileOverlay"></div>

    <!-- Mobile Navigation Menu -->
    <nav class="nav-mobile" id="navMobile">
      <div class="nav-mobile-header">
        <div class="logo">GRINDMIND</div>
        <button class="nav-mobile-close" id="navMobileClose">×</button>
      </div>
      <div class="nav-mobile-menu">
        <a href="#" class="nav-mobile-item active">Ana Sayfa</a>
        <a href="activities.html" class="nav-mobile-item">Aktiviteler</a>
        <a href="statistics.html" class="nav-mobile-item">İstatistikler</a>
        <a href="achievements.html" class="nav-mobile-item">Başarılar</a>
        <a href="settings.html" class="nav-mobile-item">⚙️ Ayarlar</a>
        <a href="#" class="nav-mobile-item" id="mobileLogoutBtn"
          >🚪 Çıkış Yap</a
        >
      </div>
    </nav>

    <!-- Main Container -->
    <div class="main-container">
      <!-- Left Sidebar -->
      <aside class="left-sidebar">
        <!-- Profile Card -->
        <div class="sidebar-card profile-card">
          <div class="profile-avatar">T</div>
          <h3 class="profile-name" id="profileName">Test User</h3>
          <p class="profile-email" id="profileEmail">test@test.com</p>
          <div class="profile-stats">
            <div class="stat-item">
              <span class="stat-number" id="userLevel">28</span>
              <span class="stat-label">Level</span>
            </div>
            <div class="stat-item">
              <span class="stat-number" id="userXP">8.2k</span>
              <span class="stat-label">XP</span>
            </div>
          </div>
        </div>

        <!-- Mini Activities -->
        <div class="sidebar-card">
          <h3 style="margin-bottom: 1rem; font-size: 1rem; font-weight: 700">
            ⚡ Hızlı Bakış
          </h3>
          <div class="mini-activities">
            <div
              class="mini-activity"
              onclick="window.location.href='pomodoro.html'"
            >
              <span class="mini-activity-icon">⏱️</span>
              <div class="mini-activity-name">Pomodoro</div>
              <div class="mini-activity-stat" id="miniPomodoro">5/8</div>
            </div>
            <div
              class="mini-activity"
              onclick="window.location.href='habits.html'"
            >
              <span class="mini-activity-icon">✨</span>
              <div class="mini-activity-name">Alışkanlık</div>
              <div class="mini-activity-stat" id="miniHabits">7/9</div>
            </div>
            <div
              class="mini-activity"
              onclick="window.location.href='planning.html'"
            >
              <span class="mini-activity-icon">📅</span>
              <div class="mini-activity-name">Görevler</div>
              <div class="mini-activity-stat" id="miniTasks">12/15</div>
            </div>
            <div
              class="mini-activity"
              onclick="window.location.href='weight-tracker.html'"
            >
              <span class="mini-activity-icon">⚖️</span>
              <div class="mini-activity-name">Kilo</div>
              <div class="mini-activity-stat" id="miniWeight">-2.3kg</div>
            </div>
            <div
              class="mini-activity"
              onclick="window.location.href='addictions.html'"
            >
              <span class="mini-activity-icon">🚫</span>
              <div class="mini-activity-name">Temiz</div>
              <div class="mini-activity-stat" id="miniClean">45 gün</div>
            </div>
            <div
              class="mini-activity"
              onclick="window.location.href='study-notes.html'"
            >
              <span class="mini-activity-icon">📚</span>
              <div class="mini-activity-name">Çalışma</div>
              <div class="mini-activity-stat" id="miniStudy">3 konu</div>
            </div>
          </div>
        </div>

        <!-- Live Activities -->
        <div class="live-activity">
          <h4
            style="
              margin-bottom: 1rem;
              color: var(--text-primary);
              font-size: 0.95rem;
            "
          >
            📡 Canlı Aktiviteler
          </h4>
          <div class="activity-item">
            <div class="activity-icon">⏱️</div>
            <div class="activity-text">Pomodoro tamamladın</div>
            <div class="activity-time">2dk</div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">✅</div>
            <div class="activity-text">Su içme alışkanlığı ✓</div>
            <div class="activity-time">15dk</div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">🏆</div>
            <div class="activity-text">Yeni başarı kazandın!</div>
            <div class="activity-time">1s</div>
          </div>
        </div>
      </aside>

      <!-- Main Feed -->
      <main class="main-feed">
        <!-- Welcome Card -->
        <div class="welcome-card">
          <h1 class="welcome-title" id="welcomeTitle">
            İyi öğleden sonra, Test User! 👋
          </h1>
          <p class="welcome-subtitle">
            Bugün harika şeyler başaracağın bir gün! Topluluğun seninle.
          </p>
        </div>

        <!-- Create Post -->
        <div class="create-post">
          <textarea
            class="post-input"
            placeholder="Bugün hangi hedefini gerçekleştirdin? Topluluğa ilham ver! 💪"
          ></textarea>
          <div class="post-actions">
            <button class="post-submit">Paylaş</button>
          </div>
        </div>

        <!-- Main Event: Weekly Challenge -->
        <div class="main-event-card challenge-system">
          <h2>🏆 Bu Haftanın Challenge'ı: "Odak Savaşçısı"</h2>
          <div class="challenge-container">
            <div class="challenge-info">
              <h3>7 Günde 50 Pomodoro Tamamla!</h3>
              <p class="challenge-description">
                🔥 2 gün kaldı! Sen yapabilirsin!
              </p>
              <p class="challenge-reward">💰 Ödül: 500 XP + Özel Rozet</p>
            </div>

            <div class="challenge-action" id="challengeSection">
              <!-- Challenge'a katılmadan önce -->
              <div id="challengeJoin" class="challenge-join-section">
                <button class="challenge-join-btn" onclick="joinChallenge()">
                  Challenge'a Katıl
                </button>
              </div>

              <!-- Challenge'a katıldıktan sonra -->
              <div
                id="challengeActive"
                class="challenge-active"
                style="display: none"
              >
                <div class="progress-ring">
                  <span id="challengeProgress">0/50</span>
                </div>
                <div class="leaderboard-mini">
                  <div class="leader-item">
                    🥇 @productivityking - 47/50 (47 saat)
                  </div>
                  <div
                    class="leader-item current-user"
                    style="
                      background: var(--accent-light);
                      border: 2px solid var(--accent-color);
                    "
                  >
                    🥈 Sen - 0/50 (0 saat)
                  </div>
                  <div class="leader-item">
                    🥉 @focusedmind - 30/50 (30 saat)
                  </div>
                  <div class="leader-item">
                    4️⃣ @habitmaster - 28/50 (28 saat)
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Main Event: AI Coach -->
        <div class="main-event-card ai-coach">
          <h2>🤖 GRIND AI Coach - Kişisel Danışmanın</h2>
          <div class="coach-message">
            <div class="coach-avatar">🎯</div>
            <div class="message-bubble" id="aiCoachMessage">
              "Merhaba! Verilerine bakarak görüyorum ki bu hafta
              alışkanlıklarında %15 artış var - harika! 🎉 Ancak pomodoro
              seanslarında biraz düşüş var. Önerim: Yarın sabah 2 kısa pomodoro
              ile başla. Küçük adımlar büyük başarılara yol açar! 💪"
            </div>
          </div>
          <div class="coach-actions">
            <button
              class="suggestion-btn"
              onclick="generateAIReport()"
              id="generateReportBtn"
            >
              📊 Kişisel Rapor Oluştur
            </button>
            <div class="ai-loading" id="aiLoading" style="display: none">
              <div class="loading-spinner"></div>
              <span>AI rapor hazırlıyor...</span>
            </div>
          </div>
        </div>

        <!-- Main Event: Social Feed -->
        <div class="main-event-card social-feed">
          <h2>🌟 Topluluk Akışı</h2>
          <div class="feed-posts">
            <div class="post-item">
              <div class="user-info">
                <div
                  class="user-avatar-small"
                  style="background: linear-gradient(45deg, #4ecdc4, #44a08d)"
                ></div>
                <span><strong>@healthylife23</strong> · 23dk</span>
              </div>
              <div class="post-content">
                "45 gündür temiz kalıyorum! 🚫🚬 GRINDMIND sayesinde her gün
                takip ediyorum. Bu topluluk gerçekten motive ediyor. Teşekkürler
                herkese! 💪 #cleanliving #motivation #45days"
              </div>
              <div class="post-actions">
                <button
                  class="post-action-btn like-btn"
                  data-post-id="sample2"
                  onclick="toggleLikePost(this)"
                >
                  ❤️ <span class="count">0</span>
                </button>
                <button
                  class="post-action-btn comment-btn"
                  data-post-id="sample2"
                  onclick="toggleComments('sample2')"
                >
                  💬 <span class="count">0</span>
                </button>
              </div>
              <div
                class="post-comments"
                id="comments-sample2"
                style="display: none"
              >
                <div class="comments-container">
                  <!-- Yorumlar buraya eklenecek -->
                </div>
                <div class="add-comment">
                  <input
                    type="text"
                    class="comment-input"
                    placeholder="Yorum yazın..."
                    onkeypress="handleCommentSubmit(event, 'sample2')"
                  />
                  <button
                    class="comment-submit-btn"
                    onclick="submitComment('sample2')"
                  >
                    Gönder
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Right Sidebar -->
      <aside class="right-sidebar">
        <!-- Current Streaks -->
        <div class="widget-card">
          <div class="widget-header">
            <h3 class="widget-title">🔥 Aktif Seriler</h3>
            <a href="#" class="widget-action">Detay</a>
          </div>
          <div id="activeStreaks">
            <div class="streak-item">
              <div class="streak-label">
                <span>⏱️</span>
                <span>Pomodoro</span>
              </div>
              <span class="streak-value" id="pomodoroStreak">5 gün</span>
            </div>
            <div class="streak-item">
              <div class="streak-label">
                <span>💧</span>
                <span>Su içme</span>
              </div>
              <span class="streak-value" id="waterStreak">12 gün</span>
            </div>
            <div class="streak-item">
              <div class="streak-label">
                <span>🏃</span>
                <span>Egzersiz</span>
              </div>
              <span class="streak-value" id="exerciseStreak">3 gün</span>
            </div>
            <div class="streak-item">
              <div class="streak-label">
                <span>🚫</span>
                <span>Temiz kalma</span>
              </div>
              <span class="streak-value" id="cleanStreak">45 gün</span>
            </div>
          </div>
        </div>

        <!-- Achievement Widget -->
        <div class="widget-card" id="achievementWidget">
          <div class="widget-header">
            <h3 class="widget-title">🏆 Son Başarılar</h3>
            <a href="achievements.html" class="widget-action">Tümünü Gör</a>
          </div>
          <div id="recentAchievements">
            <div class="achievement-item">
              <span class="achievement-icon">🔥</span>
              <div class="achievement-info">
                <div class="achievement-name">Streak Master</div>
                <div class="achievement-points">+100 XP</div>
              </div>
            </div>
            <div class="achievement-item">
              <span class="achievement-icon">⏱️</span>
              <div class="achievement-info">
                <div class="achievement-name">Pomodoro Hero</div>
                <div class="achievement-points">+75 XP</div>
              </div>
            </div>
            <div class="achievement-item">
              <span class="achievement-icon">💪</span>
              <div class="achievement-info">
                <div class="achievement-name">Consistency King</div>
                <div class="achievement-points">+50 XP</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Weekly Leaderboard -->
        <div class="widget-card">
          <div class="widget-header">
            <h3 class="widget-title">👑 Haftalık Liderler</h3>
            <a href="#" class="widget-action">Tam Liste</a>
          </div>
          <div class="leaderboard">
            <div class="leaderboard-item gold">
              <div class="leaderboard-user">
                <span class="leaderboard-rank">🥇</span>
                <span class="leaderboard-name">@productivityking</span>
              </div>
              <span class="leaderboard-score">47 saat</span>
            </div>
            <div class="leaderboard-item silver current-user">
              <div class="leaderboard-user">
                <span class="leaderboard-rank">🥈</span>
                <span class="leaderboard-name">Sen (Test User)</span>
              </div>
              <span class="leaderboard-score">32 saat</span>
            </div>
            <div class="leaderboard-item bronze">
              <div class="leaderboard-user">
                <span class="leaderboard-rank">🥉</span>
                <span class="leaderboard-name">@focusmaster</span>
              </div>
              <span class="leaderboard-score">28 saat</span>
            </div>
          </div>
        </div>

        <!-- Community Stats -->
        <div class="widget-card">
          <div class="widget-header">
            <h3 class="widget-title">📊 Topluluk İstatistikleri</h3>
          </div>
          <div class="community-stats">
            <div class="stat-row">
              <span class="stat-label">👥 Toplam Üyeler</span>
              <span class="stat-value success" id="totalMembers">15,247</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">⏱️ Bugün Pomodoro</span>
              <span class="stat-value warning" id="todayPomodoros">3,492</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">🏆 Challenge Katılımcı</span>
              <span class="stat-value info" id="challengeParticipants"
                >856</span
              >
            </div>
            <div class="stat-row">
              <span class="stat-label">📝 Bugün Paylaşım</span>
              <span class="stat-value accent" id="todayPosts">124</span>
            </div>
          </div>
        </div>

        <!-- Motivational Quote -->
        <div class="widget-card motivational-quote">
          <div class="quote-content">
            <div class="quote-icon">💫</div>
            <div class="quote-text">
              "Başarı, küçük çabaların günlük olarak tekrarlanmasıdır. Sen de bu
              yoldasın! 🌟"
            </div>
            <div class="quote-author">- GRINDMIND Community</div>
          </div>
        </div>
      </aside>
    </div>

    <!-- Floating Action Button -->
    <button
      class="floating-action-btn"
      onclick="document.querySelector('.post-input').focus()"
      title="Hızlı Paylaşım"
    >
      ➕
    </button>

    <!-- Notification Toast -->
    <div id="notificationToast" class="notification-toast">
      <div class="notification-content">
        <span class="notification-icon">🎉</span>
        <div class="notification-text">
          <div class="notification-title">Bildirim Başlığı</div>
          <div class="notification-message">
            Bildirim mesajı burada görünecek
          </div>
        </div>
        <button class="notification-close" onclick="hideNotification()">
          ×
        </button>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      // Global State
      const state = {
        user: {
          name: "Test User",
          email: "test@test.com",
          level: 28,
          xp: 8200,
          isLoggedIn: true,
        },
        challenge: {
          isJoined: false,
          progress: 0,
          total: 50,
          timeLeft: "2 gün",
        },
        posts: [],
        notifications: [],
        ai: {
          isGenerating: false,
          lastReport: null,
        },
      };

      // Utility Functions
      function formatTime(date) {
        const now = new Date();
        const diff = Math.floor((now - date) / 1000);

        if (diff < 60) return "şimdi";
        if (diff < 3600) return Math.floor(diff / 60) + "dk";
        if (diff < 86400) return Math.floor(diff / 3600) + "s";
        return Math.floor(diff / 86400) + "g";
      }

      function showNotification(title, message, type = "info") {
        const toast = document.getElementById("notificationToast");
        const titleEl = toast.querySelector(".notification-title");
        const messageEl = toast.querySelector(".notification-message");
        const iconEl = toast.querySelector(".notification-icon");

        const icons = {
          success: "🎉",
          error: "❌",
          warning: "⚠️",
          info: "ℹ️",
        };

        titleEl.textContent = title;
        messageEl.textContent = message;
        iconEl.textContent = icons[type] || icons.info;

        toast.classList.add("show");

        setTimeout(() => {
          hideNotification();
        }, 4000);
      }

      function hideNotification() {
        const toast = document.getElementById("notificationToast");
        toast.classList.remove("show");
      }

      function updateWelcomeMessage() {
        const now = new Date();
        const hour = now.getHours();
        let greeting;

        if (hour < 12) {
          greeting = "Günaydın";
        } else if (hour < 18) {
          greeting = "İyi öğleden sonra";
        } else {
          greeting = "İyi akşamlar";
        }

        const welcomeTitle = document.getElementById("welcomeTitle");
        if (welcomeTitle) {
          welcomeTitle.innerHTML = `${greeting}, ${state.user.name}! 👋`;
        }
      }

      // Mobile Navigation Functions
      function toggleMobileNav() {
        const hamburger = document.getElementById("hamburger");
        const mobileNav = document.getElementById("navMobile");
        const overlay = document.getElementById("navMobileOverlay");

        hamburger.classList.toggle("active");
        mobileNav.classList.toggle("show");
        overlay.classList.toggle("show");

        // Prevent body scroll when menu is open
        if (mobileNav.classList.contains("show")) {
          document.body.style.overflow = "hidden";
        } else {
          document.body.style.overflow = "";
        }
      }

      function closeMobileNav() {
        const hamburger = document.getElementById("hamburger");
        const mobileNav = document.getElementById("navMobile");
        const overlay = document.getElementById("navMobileOverlay");

        hamburger.classList.remove("active");
        mobileNav.classList.remove("show");
        overlay.classList.remove("show");
        document.body.style.overflow = "";
      }

      // Profile Dropdown Functions
      function toggleProfileDropdown() {
        const dropdown = document.getElementById("profileDropdown");
        dropdown.classList.toggle("show");
      }

      function handleSettings() {
        window.location.href = "settings.html";
        toggleProfileDropdown();
      }

      function handleLogout() {
        if (confirm("Çıkış yapmak istediğinizden emin misiniz?")) {
          showNotification(
            "Çıkış",
            "Başarıyla çıkış yapıldı. Güle güle!",
            "success"
          );
          setTimeout(() => {
            window.location.href = "index.html";
          }, 2000);
        }
        toggleProfileDropdown();
      }

      // Challenge Functions
      function joinChallenge() {
        state.challenge.isJoined = true;

        // UI'ı güncelle
        document.getElementById("challengeJoin").style.display = "none";
        document.getElementById("challengeActive").style.display = "block";

        // Notification göster
        showNotification(
          "Challenge'a Katıldın!",
          "Artık Odak Savaşçısı challenge'ının bir parçasısın! 🔥",
          "success"
        );

        // Lider tablosunu güncelle
        updateLeaderboard();

        // XP ver
        updateUserXP(50);
      }

      function updateChallengeProgress(increment = 1) {
        if (!state.challenge.isJoined) return;

        state.challenge.progress = Math.min(
          state.challenge.progress + increment,
          state.challenge.total
        );

        // Progress ring'i güncelle
        updateProgressRing();

        // Lider tablosunu güncelle
        updateLeaderboard();

        // Challenge tamamlandı mı kontrol et
        if (state.challenge.progress >= state.challenge.total) {
          showNotification(
            "Challenge Tamamlandı!",
            "Tebrikler! Odak Savaşçısı challenge'ını tamamladın! 🏆",
            "success"
          );
          updateUserXP(500);
        }
      }

      function updateProgressRing() {
        const progressEl = document.getElementById("challengeProgress");
        const progressRing = document.querySelector(".progress-ring");

        if (progressEl) {
          progressEl.textContent = `${state.challenge.progress}/${state.challenge.total}`;
        }

        if (progressRing) {
          const percentage =
            (state.challenge.progress / state.challenge.total) * 360;
          progressRing.style.background = `conic-gradient(
      var(--accent-color) 0deg ${percentage}deg,
      var(--secondary-bg) ${percentage}deg 360deg
    )`;
        }
      }

      function updateLeaderboard() {
        const currentUserItem = document.querySelector(
          ".leaderboard-mini .current-user"
        );
        if (currentUserItem) {
          const userHours = state.challenge.progress;
          currentUserItem.innerHTML = `🥈 Sen - ${state.challenge.progress}/${state.challenge.total} (${userHours} saat)`;
        }
      }

      // AI Coach Functions
      async function generateAIReport() {
        const button = document.getElementById("generateReportBtn");
        const loading = document.getElementById("aiLoading");
        const messageEl = document.getElementById("aiCoachMessage");

        // UI'ı güncelle
        button.style.display = "none";
        loading.style.display = "flex";

        // Simulated AI response
        setTimeout(() => {
          const reports = [
            "Bu hafta gerçekten harika bir performans sergilediin! 🌟 Pomodoro seanslarında %25 artış var ve alışkanlık takibinde de çok tutarlısın. Özellikle sabah saatlerindeki odaklanman dikkat çekici. Öneri: Öğleden sonra da bu enerjiyi korumak için kısa ara vermeyi unutma!",
            "Verilerine bakarak görüyorum ki odaklanma sürelerinde gelişme var ama tutarlılıkta biraz dalgalanma yaşıyorsun. 📊 Bu normal! Önerim: Günlük rutinini biraz daha optimize et. Sabah 10-12 arası en verimli saatlerin gibi görünüyor.",
            "Harika! Bu ay toplamda 847 dakika odaklanmış durumdasın! 🔥 Hedefinin %89'una ulaştın. Challenge'lardaki performansın da çok iyi. Küçük öneri: Hafta sonları da mini alışkanlıkları sürdürebilirsen daha da iyi olur!",
          ];

          const randomReport =
            reports[Math.floor(Math.random() * reports.length)];

          messageEl.textContent = randomReport;

          // UI'ı eski haline getir
          loading.style.display = "none";
          button.style.display = "inline-flex";

          // Notification göster
          showNotification(
            "AI Rapor Hazır!",
            "Kişisel analiz raporun hazırlandı! 🤖",
            "success"
          );

          // XP ver
          updateUserXP(30);
        }, 3000);
      }

      // Post Functions
      function createPost() {
        const input = document.querySelector(".post-input");
        const content = input.value.trim();

        if (!content) {
          showNotification("Hata", "Paylaşım içeriği boş olamaz!", "error");
          return;
        }

        if (content.length > 500) {
          showNotification(
            "Hata",
            "Paylaşım çok uzun! (Max 500 karakter)",
            "error"
          );
          return;
        }

        const post = {
          id: Date.now(),
          content: content,
          author: "Sen",
          timestamp: new Date(),
          likes: 0,
          comments: [],
          isLiked: false,
        };

        addPostToFeed(post);
        input.value = "";

        showNotification(
          "Başarılı!",
          "Paylaşımın toplulukla paylaşıldı! 🎉",
          "success"
        );

        // XP ver
        updateUserXP(25);
      }

      function addPostToFeed(post) {
        const feedPosts = document.querySelector(".feed-posts");
        if (!feedPosts) return;

        const postElement = createPostElement(post);
        feedPosts.insertBefore(postElement, feedPosts.firstChild);

        state.posts.unshift(post);

        // En fazla 10 post tut
        const posts = feedPosts.querySelectorAll(".post-item");
        if (posts.length > 10) {
          posts[posts.length - 1].remove();
          state.posts.pop();
        }
      }

      function createPostElement(post) {
        const postElement = document.createElement("div");
        postElement.className = "post-item fade-in-up";
        postElement.setAttribute("data-post-id", post.id);

        postElement.innerHTML = `
    <div class="user-info">
      <div class="user-avatar-small" style="background: var(--gradient-primary);"></div>
      <span><strong>${post.author}</strong> · ${formatTime(
          post.timestamp
        )}</span>
    </div>
    <div class="post-content">${post.content}</div>
    <div class="post-actions">
      <button class="post-action-btn like-btn ${
        post.isLiked ? "active" : ""
      }" data-post-id="${post.id}" onclick="toggleLikePost(this)">
        ❤️ <span class="count">${post.likes}</span>
      </button>
      <button class="post-action-btn comment-btn" data-post-id="${
        post.id
      }" onclick="toggleComments('${post.id}')">
        💬 <span class="count">${post.comments.length}</span>
      </button>
    </div>
    <div class="post-comments" id="comments-${post.id}" style="display: none;">
      <div class="comments-container">
        ${post.comments
          .map(
            (comment) => `
          <div class="comment">
            <strong>${comment.author}:</strong> ${comment.content}
          </div>
        `
          )
          .join("")}
      </div>
      <div class="add-comment">
        <input type="text" class="comment-input" placeholder="Yorum yazın..." onkeypress="handleCommentSubmit(event, '${
          post.id
        }')">
        <button class="comment-submit-btn" onclick="submitComment('${
          post.id
        }')">Gönder</button>
      </div>
    </div>
  `;

        return postElement;
      }

      function toggleLikePost(button) {
        const postId = button.getAttribute("data-post-id");
        const countEl = button.querySelector(".count");
        const currentCount = parseInt(countEl.textContent);

        // State'de post bul
        let post = state.posts.find((p) => p.id == postId);

        // Eğer state'de yoksa (sample postlar için) DOM'dan çalış
        if (!post) {
          const isLiked = button.classList.contains("active");
          const newCount = isLiked ? currentCount - 1 : currentCount + 1;

          button.classList.toggle("active", !isLiked);
          countEl.textContent = newCount;

          // Animasyon ekle
          button.classList.add("success-animation");
          setTimeout(() => {
            button.classList.remove("success-animation");
          }, 600);

          if (!isLiked) {
            updateUserXP(5);
          }
          return;
        }

        // State'deki post için
        post.isLiked = !post.isLiked;
        post.likes += post.isLiked ? 1 : -1;

        button.classList.toggle("active", post.isLiked);
        countEl.textContent = post.likes;

        // Animasyon ekle
        button.classList.add("success-animation");
        setTimeout(() => {
          button.classList.remove("success-animation");
        }, 600);

        if (post.isLiked) {
          updateUserXP(5);
        }
      }

      function toggleComments(postId) {
        const commentsContainer = document.getElementById(`comments-${postId}`);
        if (commentsContainer) {
          const isVisible = commentsContainer.style.display !== "none";
          commentsContainer.style.display = isVisible ? "none" : "block";

          // Eğer açılıyorsa comment input'a focus yap
          if (!isVisible) {
            setTimeout(() => {
              const commentInput =
                commentsContainer.querySelector(".comment-input");
              if (commentInput) {
                commentInput.focus();
              }
            }, 100);
          }
        }
      }

      function handleCommentSubmit(event, postId) {
        if (event.key === "Enter") {
          event.preventDefault();
          submitComment(postId);
        }
      }

      function submitComment(postId) {
        const commentsContainer = document.getElementById(`comments-${postId}`);
        const commentInput = commentsContainer.querySelector(".comment-input");
        const content = commentInput.value.trim();

        if (!content) {
          showNotification("Hata", "Yorum içeriği boş olamaz!", "error");
          return;
        }

        if (content.length > 200) {
          showNotification(
            "Hata",
            "Yorum çok uzun! (Max 200 karakter)",
            "error"
          );
          return;
        }

        const comment = {
          id: Date.now(),
          author: state.user.name,
          content: content,
          timestamp: new Date(),
        };

        // State'de post bul
        let post = state.posts.find((p) => p.id == postId);

        if (post) {
          post.comments.push(comment);
        }

        // UI'ı güncelle
        const commentBtn = document.querySelector(
          `[data-post-id="${postId}"].comment-btn`
        );
        const countEl = commentBtn.querySelector(".count");
        const currentCount = parseInt(countEl.textContent);
        countEl.textContent = currentCount + 1;

        // Yorumu ekle
        const commentsDiv = commentsContainer.querySelector(
          ".comments-container"
        );
        const commentEl = document.createElement("div");
        commentEl.className = "comment";
        commentEl.innerHTML = `<strong>${comment.author}:</strong> ${comment.content}`;
        commentsDiv.appendChild(commentEl);

        // Input'u temizle
        commentInput.value = "";

        showNotification("Başarılı!", "Yorumun eklendi! 💬", "success");
        updateUserXP(10);
      }

      // User Functions
      function updateUserXP(points) {
        state.user.xp += points;

        const xpEl = document.getElementById("userXP");
        if (xpEl) {
          xpEl.textContent = formatNumber(state.user.xp);
          xpEl.classList.add("success-animation");
          setTimeout(() => {
            xpEl.classList.remove("success-animation");
          }, 600);
        }

        // Level kontrolü
        checkLevelUp();
      }

      function checkLevelUp() {
        const newLevel = Math.floor(state.user.xp / 300) + 1;

        if (newLevel > state.user.level) {
          state.user.level = newLevel;

          const levelEl = document.getElementById("userLevel");
          if (levelEl) {
            levelEl.textContent = state.user.level;
          }

          showNotification(
            "Level Up!",
            `Tebrikler! Level ${state.user.level}'e ulaştın! 🎉`,
            "success"
          );
        }
      }

      function formatNumber(num) {
        if (num >= 1000000) {
          return (num / 1000000).toFixed(1) + "M";
        }
        if (num >= 1000) {
          return (num / 1000).toFixed(1) + "k";
        }
        return num.toString();
      }

      // Activity Simulation
      function simulateActivity() {
        // Pomodoro simülasyonu
        if (Math.random() > 0.95) {
          // %5 şans
          updateChallengeProgress(1);
          showNotification(
            "Pomodoro Tamamlandı!",
            "Tebrikler! Bir pomodoro daha tamamladın! ⏱️",
            "success"
          );
          updateUserXP(50);
        }

        // Rastgele bildirimler
        if (Math.random() > 0.98) {
          // %2 şans
          const activities = [
            "Su içme alışkanlığın tamamlandı! 💧",
            "Egzersiz alışkanlığın güncellendi! 🏃",
            "Yeni bir arkadaşın seni takip etmeye başladı! 👥",
            "Haftalık hedefin %80'ini tamamladın! 🎯",
          ];

          const randomActivity =
            activities[Math.floor(Math.random() * activities.length)];
          showNotification("Aktivite Güncellemesi", randomActivity, "info");
        }
      }

      // Event Handlers
      function setupEventHandlers() {
        // Post oluşturma
        const postSubmit = document.querySelector(".post-submit");
        const postInput = document.querySelector(".post-input");

        if (postSubmit) {
          postSubmit.addEventListener("click", createPost);
        }

        if (postInput) {
          postInput.addEventListener("keydown", function (e) {
            if (e.key === "Enter" && (e.ctrlKey || e.metaKey)) {
              e.preventDefault();
              createPost();
            }
          });

          // Auto-resize
          postInput.addEventListener("input", function () {
            this.style.height = "auto";
            this.style.height = this.scrollHeight + "px";
          });
        }

        // Mobile Navigation
        const hamburger = document.getElementById("hamburger");
        const mobileClose = document.getElementById("navMobileClose");
        const mobileOverlay = document.getElementById("navMobileOverlay");
        const mobileLogoutBtn = document.getElementById("mobileLogoutBtn");

        if (hamburger) {
          hamburger.addEventListener("click", toggleMobileNav);
        }

        if (mobileClose) {
          mobileClose.addEventListener("click", closeMobileNav);
        }

        if (mobileOverlay) {
          mobileOverlay.addEventListener("click", closeMobileNav);
        }

        if (mobileLogoutBtn) {
          mobileLogoutBtn.addEventListener("click", function (e) {
            e.preventDefault();
            if (confirm("Çıkış yapmak istediğinizden emin misiniz?")) {
              showNotification(
                "Çıkış",
                "Başarıyla çıkış yapıldı. Güle güle!",
                "success"
              );
              setTimeout(() => {
                window.location.href = "index.html";
              }, 2000);
            }
            closeMobileNav();
          });
        }

        // Profile dropdown
        const userAvatar = document.getElementById("userAvatar");
        if (userAvatar) {
          userAvatar.addEventListener("click", function (e) {
            e.stopPropagation();
            toggleProfileDropdown();
          });
        }

        // Settings ve logout butonları
        const settingsBtn = document.getElementById("settingsBtn");
        const logoutBtn = document.getElementById("logoutBtn");

        if (settingsBtn) {
          settingsBtn.addEventListener("click", function (e) {
            e.preventDefault();
            handleSettings();
          });
        }

        if (logoutBtn) {
          logoutBtn.addEventListener("click", function (e) {
            e.preventDefault();
            handleLogout();
          });
        }

        // Dropdown dışına tıklama
        document.addEventListener("click", function (e) {
          const dropdown = document.getElementById("profileDropdown");
          const userAvatar = document.getElementById("userAvatar");

          if (
            dropdown &&
            !dropdown.contains(e.target) &&
            e.target !== userAvatar
          ) {
            dropdown.classList.remove("show");
          }
        });

        // Bildirim kapatma
        const notificationClose = document.querySelector(".notification-close");
        if (notificationClose) {
          notificationClose.addEventListener("click", hideNotification);
        }

        // Bildirim butonu
        const notificationBtn = document.getElementById("notificationBtn");
        if (notificationBtn) {
          notificationBtn.addEventListener("click", function () {
            showNotification(
              "Bildirimler",
              "Bildirim sistemi aktif! Yeni özellikler yakında gelecek.",
              "info"
            );
          });
        }

        // Keyboard shortcuts
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            hideNotification();
            closeMobileNav();
          }

          if (e.ctrlKey || e.metaKey) {
            switch (e.key) {
              case "n":
                if (!e.target.closest("input, textarea")) {
                  e.preventDefault();
                  postInput?.focus();
                }
                break;
            }
          }
        });
      }

      // Initialization
      function initializeDashboard() {
        console.log("🚀 GRINDMIND Dashboard initializing...");

        try {
          // Event handlers'ı kur
          setupEventHandlers();

          // Hoş geldin mesajını güncelle
          updateWelcomeMessage();

          // Progress ring'i başlat
          updateProgressRing();

          // Aktivite simülasyonunu başlat
          setInterval(simulateActivity, 5000); // Her 5 saniyede bir

          // Hoş geldin bildirimi
          setTimeout(() => {
            showNotification(
              "Hoş Geldin! 🎉",
              "GRINDMIND Dashboard'a hoş geldin! Hedeflerini takip etmeye hazır mısın?",
              "success"
            );
          }, 1000);

          console.log("✅ Dashboard loaded successfully!");
        } catch (error) {
          console.error("❌ Error initializing dashboard:", error);
          showNotification(
            "Başlatma Hatası",
            "Dashboard yüklenirken bir hata oluştu. Lütfen sayfayı yenileyin.",
            "error"
          );
        }
      }

      // Global API
      window.grindmindAPI = {
        // Public methods
        createPost,
        updateChallengeProgress,
        updateUserXP,
        showNotification,
        hideNotification,
        generateAIReport,
        joinChallenge,

        // State access
        getState: () => ({ ...state }),

        // Integration hooks
        onPomodoroCompleted: () => {
          updateChallengeProgress(1);
          updateUserXP(50);
          showNotification(
            "Pomodoro Tamamlandı!",
            "Harika! Bir pomodoro daha tamamladın! ⏱️",
            "success"
          );
        },

        onHabitCompleted: (habitName) => {
          updateUserXP(25);
          showNotification(
            "Alışkanlık Tamamlandı!",
            `${habitName} alışkanlığın tamamlandı! ✅`,
            "success"
          );
        },

        onTaskCompleted: (taskName) => {
          updateUserXP(30);
          showNotification(
            "Görev Tamamlandı!",
            `${taskName} görevi tamamlandı! 📝`,
            "success"
          );
        },
      };

      // Auto-initialize when DOM is ready
      document.addEventListener("DOMContentLoaded", initializeDashboard);
    </script>
  </body>
</html>
